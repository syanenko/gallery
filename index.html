<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js)
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-90TCG4QQ5H"></script>

    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-90TCG4QQ5H');
    </script>
    -->

    <title>Gallery</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <!-- Caching -->  
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="expires" content="timestamp">

    <link type="text/css" rel="stylesheet" href="/index.css">
  </head>

  <body>
  <script type="importmap"> { 
    "imports": {
      "three": "/node_modules/three/build/three.module.js",
      "three/addons/": "/node_modules/three/examples/jsm/",
      "three/nodes": "/node_modules/three/examples/jsm/nodes/Nodes.js"
      }
  }
  </script> 

  <!-- Header --> 
  <div id='header'></div>
  <!-- Insert header -->
  
  <dialog id="about">
    <br>
    <div style="font-size: 24px; position:absolute; left:50px; color: #ffac13;">POV-Lab</div>
    <br><br>
    <a href="https://povray.org" target="_blank">POV-Ray</a> scenes was rendered by <a href="https://wiki.povray.org/content/User:Le_Forgeron" target="_blank">HgPovray</a> with stereo camera and can be viewed in VR by selecting mask icon it low left corner. Download scene source by selecting download icon.</p>
    <p>Following tutorials are available online:
    <a href="https://povlab.online/povtutorial/" target="_blank">Basics</a>,
    <a href="https://povlab.online/animtutorial/" target="_blank">Animation</a>,
    <a href="https://povlab.online/isotutorial/" target="_blank">Isosurfaces</a>.</p>
    <p style='text-align:right'>Contacts: <a href='mailto:syanenko65@gmain.com'>Email</a> / <a href="https://www.linkedin.com/in/sergey-yanenko-57b21a96/" target="_blank">LinkedIn</a>&nbsp;&nbsp;</p>
    <form method="dialog" style="text-align:center">
      <button style='width:100px'>OK</button>
    </form>
  </dialog>

  <!-- TODO: Make preview for flat screen (?) -->
  <dialog id="preview" style="background-color:#FDFFD5">
    <img id="image" onclick="document.getElementById('preview').close()"></img>
    <div id='vr_button'></div>
  </dialog>

  <script type="module" src="./viewImage.js"></script>
  <script type="module" src="./viewScene.js"></script>

  <script>
    fetch("/header.html")
      .then(response => {
        return response.text()
      }).then(data => {
        document.getElementById('header').innerHTML = data;
      });

    function about() {
      document.getElementById("about").showModal();
    }

    function back() {
      open('https://127.0.0.1:8085/')
    }

    // View
    function view(name, type, projection) {
      // TODO: Display on return
      document.getElementById("menu").style.display="none";

      switch(type) {
        case Type.IMAGE:
          viewImage(name, projection); break;
        case Type.SCENE:
          viewScene(name); break;
        default:
          console.error("Unknown view type");
      }
    }
  </script>

  <!-- Name, description hidden --> 
  <div id="name" style="display:none"></div>
  <div id="description" style="display:none"></div>

  <!-- VRButton -->

  <!-- <<
  <img id='prev' class="nav" style="left: 50px" src="./data/icons/outline_arrow_circle_left_white_36dp.png" alt="Prev"
                                                onclick="post > 1 ? showPost(--post): ()=>{}"
                                                onmouseenter="style.opacity = '1.0'" 
                                                onmouseleave="style.opacity = '0.5'"/>
  -->
  <!-- >>
  <img id='next' class="nav" style="right: 50px" src="./data/icons/outline_arrow_circle_right_white_36dp.png" alt="Next"
                                                 onclick="post < max_post ? showPost(++post): ()=>{}"
                                                 onmouseenter="style.opacity = '1.0'" 
                                                 onmouseleave="style.opacity = '0.6'"/>
  -->

  <div id="container"></div>
  <div id="menu">
    <img id="surface_1" src="data/images/surface_1.png" alt='link' class='link' onclick='view(this.id, Type.IMAGE, Proj.VR180)'>
    <img id="surface_2" src="data/images/surface_2.png" alt='link' class='link' onclick='view(this.id, Type.IMAGE, Proj.VR360)'>
    <img id="surface_3" src="data/images/surface_3.png" alt='link' class='link' onclick='view(this.id, Type.IMAGE, Proj.FLAT)'>
    <img id="surface_4" src="data/images/surface_4.png" alt='link' class='link' onclick='view(this.id, Type.IMAGE, Proj.FLAT)'>
    <img id="surface_5" src="data/images/surface_5.png" alt='link' class='link' onclick='view(this.id, Type.IMAGE, Proj.FLAT)'>

    <img id="Mars_Rover" src="data/images/surface_1.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>
    <img id="Cassini-Huygens" src="data/images/surface_2.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>
    <img id="Deep_Space" src="data/images/surface_3.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>
    <img id="Ingenuity_Mars_Helicopter" src="data/images/surface_4.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>
    <img id="Viking_Lander" src="data/images/surface_5.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>

    <img id="odsp1"     src="data/images/surface_1.png" alt='link' class='link' onclick='view(this.id, Type.IMAGE, Proj.CYLINDER)'>
    <img id="flora"     src="data/images/surface_2.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>
    <img id="oakcup"    src="data/images/surface_3.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>

    <img id="ring_0" src="data/images/surface_1.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>
    <img id="ring_2" src="data/images/surface_1.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>
    <img id="ring_3" src="data/images/surface_1.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>
    <img id="ring_4" src="data/images/surface_1.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>
    <img id="gearbox5st" src="data/images/surface_1.png" alt='link' class='link' onclick='view(this.id, Type.SCENE)'>
  </div>
	</body>
</html>
