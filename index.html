<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js)
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-90TCG4QQ5H"></script>

    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-90TCG4QQ5H');
    </script>
    -->

    <title>Gallery</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <!-- Caching -->  
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="expires" content="timestamp">

    <link type="text/css" rel="stylesheet" href="./index.css">
  </head>

  <body>
  <script type="importmap"> { 
    "imports": {
      "three": "./node_modules/three/build/three.module.js",
      "three/addons/": "./node_modules/three/examples/jsm/",
      "three/nodes": "./node_modules/three/examples/jsm/nodes/Nodes.js"
      }
  }
  </script> 

  <!-- Header --> 
  <div id='header'></div>
  <!-- Insert header -->
  
  <dialog id="about">
    <br>
    <div style="font-size: 24px; position:absolute; left:50px; color: #ffac13;">POV-Lab</div>
    <br><br>
    <a href="https://povray.org" target="_blank">POV-Ray</a> scenes was rendered by <a href="https://wiki.povray.org/content/User:Le_Forgeron" target="_blank">HgPovray</a> with stereo camera and can be viewed in VR by selecting mask icon it low left corner. Download scene source by selecting download icon.</p>
    <p>Following tutorials are available online:
    <a href="https://povlab.online/povtutorial/" target="_blank">Basics</a>,
    <a href="https://povlab.online/animtutorial/" target="_blank">Animation</a>,
    <a href="https://povlab.online/isotutorial/" target="_blank">Isosurfaces</a>.</p>
    <p style='text-align:right'>Contacts: <a href='mailto:syanenko65@gmain.com'>Email</a> / <a href="https://www.linkedin.com/in/sergey-yanenko-57b21a96/" target="_blank">LinkedIn</a>&nbsp;&nbsp;</p>
    <form method="dialog" style="text-align:center">
      <button style='width:100px'>OK</button>
    </form>
  </dialog>

  <!-- TODO: Make preview for flat screen (?) -->
  <dialog id="preview" style="background-color:#FDFFD5">
    <img id="image" onclick="document.getElementById('preview').close()"></img>
    <div id='vr_button'></div>
  </dialog>

  <script type="module" src="./viewImage.js"></script>
  <script type="module" src="./viewModel.js"></script>

  <script>
    fetch("./header.html")
      .then(response => {
        return response.text()
      }).then(data => {
        document.getElementById('header').innerHTML = data;
      });

    function home() {
      // window.location.href = "/gallery";
      window.location.href = "https://127.0.0.1:8086/";
    }

    function about() {
      document.getElementById("about").showModal();
    }
  </script>

  <!-- Name, description hidden --> 
  <div id="name" style="display:none"></div>
  <div id="description" style="display:none"></div>

  <div id="container"></div>
  <div id="__menu">
    <img id="m1" src="data/images/flora_icon.png"    alt='link' class='link' onclick='viewModel("flora")'>
    <img id="m2" src="data/images/oak_leaf_icon.png" alt='link' class='link' onclick='viewModel("oak_leaf")'>
    <img id="m3" src="data/images/gears_icon.png"    alt='link' class='link' onclick='viewModel("gears")'>
    <img id="m4" src="data/images/gears_icon.png"    alt='link' class='link' onclick='viewModel("planetary3")'>

    <img id="i1"    src="data/images/odsp_icon.png" alt='link' class='link' onclick='viewImage("odsp1_left.png",
                                                                                               "odsp2_left.png",
                                                                                               Proj.CYLINDER)'>

    <img id="d2" src="data/images/dummy_icon.png" alt='link' class='link' onclick='viewImage("pb/Alley_Cylindrical/4m_zeroparallax_left.png",
                                                                                              "pb/Alley_Cylindrical/4m_zeroparallax_right.png",
                                                                                               Proj.CYLINDER)'>

    <img id="d1" src="data/images/dummy_icon.png" alt='link' class='link' onclick='viewImage("pb/HampiIndia_VR180_infinite_zeroparallax/PDB_3272_left.jpg",
                                                                                             "pb/HampiIndia_VR180_infinite_zeroparallax/PDB_3272_right.jpg",
                                                                                              Proj.VR180)'>
  </div>
	</body>
</html>
