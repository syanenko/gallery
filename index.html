<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js)
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-90TCG4QQ5H"></script>

    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-90TCG4QQ5H');
    </script>
    -->

    <title>Gallery</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <!-- Caching -->  
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="expires" content="timestamp">

    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link type="text/css" rel="stylesheet" href="./index.css">
  </head>

  <body>
  <script type="importmap"> { 
    "imports": {
      "three": "./node_modules/three/build/three.module.js",
      "three/addons/": "./node_modules/three/examples/jsm/",
      "three/nodes": "./node_modules/three/examples/jsm/nodes/Nodes.js"
      }
  }
  </script>
  <script>
  // Back to menu
  document.addEventListener("keyup", function(e){
    if(e.keyCode == 27 || e.keyCode == 32) {
      window.location.href = '.';
    }
  })
  </script>

  <!-- Header --> 
  <div id='header'></div>
  <!-- Insert header -->
  
  <dialog id="about">
    <br>
    <div style="font-size: 24px; position:absolute; left:50px; color: #ffac13;">POV-Lab</div>
    <br><br>
    <a href="https://povray.org" target="_blank">POV-Ray</a> scenes was rendered by <a href="https://wiki.povray.org/content/User:Le_Forgeron" target="_blank">HgPovray</a> with stereo camera and can be viewed in VR by selecting mask icon it low left corner. Download scene source by selecting download icon.</p>
    <p>Following tutorials are available online:
    <a href="https://povlab.online/povtutorial/" target="_blank">Basics</a>,
    <a href="https://povlab.online/animtutorial/" target="_blank">Animation</a>,
    <a href="https://povlab.online/isotutorial/" target="_blank">Isosurfaces</a>.</p>
    <p style='text-align:right'>Contacts: <a href='mailto:syanenko65@gmain.com'>Email</a> / <a href="https://www.linkedin.com/in/sergey-yanenko-57b21a96/" target="_blank">LinkedIn</a>&nbsp;&nbsp;</p>
    <form method="dialog" style="text-align:center">
      <button style='width:100px'>OK</button>
    </form>
  </dialog>

  <!-- TODO: Make preview for flat screen (?) -->
  <dialog id="preview" style="background-color:#FDFFD5">
    <img id="image" onclick="document.getElementById('preview').close()"></img>
    <div id='vr_button'></div>
  </dialog>

  <script type="module" src="./viewImage.js"></script>
  <script type="module" src="./viewModel.js"></script>

  <header>
    <div id='text' onclick="window.location.href = '.'"><img id='logo' src="./data/icons/vr.png" alt="Logo"/>Gallery 0.10b</div>
    <button id="about_button" onclick="about()">About</button>
    <hr id="line">
  </header>

  <script>
    // fetch("./header.html")
    //   .then(response => {
    //     return response.text()
    //   }).then(data => {
    //     document.getElementById('header').innerHTML = data;
    //   });

    // function about() {
    //   document.getElementById("about").showModal();
    // }
  </script>

  <!-- Name, description hidden -->
  <div id="name" style="display:none"></div>
  <div id="description" style="display:none"></div>

  <div id="container"></div>
  <div id="__menu">
    <img id="m1" src="./data/images/flora_icon.png"      alt='link' class='link' onclick='viewModel("flora")'>
    <img id="m2" src="./data/images/oak_leaf_icon.png"   alt='link' class='link' onclick='viewModel("oak_leaf")'>
    <img id="m5" src="./data/images/dog_man_icon.png" alt='link' class='link' onclick='viewModel("dog_man")'>
    <img id="m3" src="./data/images/gears_icon.png"      alt='link' class='link' onclick='viewModel("gears")'>
    <img id="m4" src="./data/images/planetary3_icon.png" alt='link' class='link' onclick='viewModel("planetary3")'>
    <img id="m5" src="./data/images/ring_icon.png" alt='link' class='link' onclick='viewModel("ring")'>

    <img id="p1"    src="./data/images/odsp_icon.png" alt='link' class='link' onclick='viewImage("odsp1_left.png",
                                                                                                 "odsp2_left.png",
                                                                                                  Proj.CYLINDER)'>
 
    <img id="p2" src="./data/images/pb/HampiIndia_VR180_infinite_zeroparallax/PDB_3272_icon.png" alt='link' class='link'
                 onclick='viewImage("pb/HampiIndia_VR180_infinite_zeroparallax/PDB_3272_left.jpg",
                                    "pb/HampiIndia_VR180_infinite_zeroparallax/PDB_3272_right.jpg",
                                     Proj.VR180)'>

    <img id="p3" src="./data/images/pb/HampiIndia_VR180_infinite_zeroparallax/PDB_3253_icon.png" alt='link' class='link'
                 onclick='viewImage("pb/HampiIndia_VR180_infinite_zeroparallax/PDB_3253_left.jpg",
                                    "pb/HampiIndia_VR180_infinite_zeroparallax/PDB_3253_right.jpg",
                                     Proj.VR180)'>
  </div>

  <!-- Stat -->
  <div style='position: absolute; top:70px; left:10px; width:800px; z-index:4; opacity:60%; font-size: 1.1rem; font-style: italic;'>
    <div id="stat" style="display: none;">Meshes 0 / Points 0 / Faces 0</div>
  </div>

  <!-- Progress -->
  <div id="progress-container">
    <label id="progress-label" for="progress-bar"></label>
    <progress id="progress-bar" value="0" max="100"></progress>
  </div>

  <!-- Studio link -->
  <a href="https://yesbird.online/" target="_blank" rel="noopener noreferrer" style="position:fixed; bottom: 10px; right: 20px; font-size: 120%; font-style: italic; color: #cccdce;">Yesbird studio 2025</a>

	</body>
</html>
