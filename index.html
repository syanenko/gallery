<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-90TCG4QQ5H"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-90TCG4QQ5H');
    </script>

    <title>Gallery</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

<!-- Caching -->  
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="expires" content="timestamp">

    <link type="text/css" rel="stylesheet" href="/index.css">
  </head>

  <body>

  <!-- Header --> 
  <div id='header'></div>
  <!-- Insert header -->
  
  <dialog id="about">
    <br>
    <div style="font-size: 24px; position:absolute; left:50px; color: #ffac13;">POV-Lab</div>
    <br><br>
    <a href="https://povray.org" target="_blank">POV-Ray</a> scenes was rendered by <a href="https://wiki.povray.org/content/User:Le_Forgeron" target="_blank">HgPovray</a> with stereo camera and can be viewed in VR by selecting mask icon it low left corner. Download scene source by selecting download icon.</p>
    <p>Following tutorials are available online:
    <a href="https://povlab.online/povtutorial/" target="_blank">Basics</a>,
    <a href="https://povlab.online/animtutorial/" target="_blank">Animation</a>,
    <a href="https://povlab.online/isotutorial/" target="_blank">Isosurfaces</a>.</p>
    <p style='text-align:right'>Contacts: <a href='mailto:syanenko65@gmain.com'>Email</a> / <a href="https://www.linkedin.com/in/sergey-yanenko-57b21a96/" target="_blank">LinkedIn</a>&nbsp;&nbsp;</p>
    <form method="dialog" style="text-align:center">
      <button style='width:100px'>OK</button>
    </form>
  </dialog>

  <dialog id="preview">
    <img id="image" onclick="document.getElementById('preview').close()"></img>
  </dialog>

  <script>
    fetch("/header.html")
      .then(response => {
        return response.text()
      }).then(data => {
        document.getElementById('header').innerHTML = data;
      });

    function showAbout()
    {
      document.getElementById("about").showModal();
    }

    function showPreview(src)
    { 
      let img = document.getElementById("image");
      img.setAttribute("src", src.getAttribute("src"));
      img.style.display = 'block';
      console.log(img);
      document.getElementById("preview").showModal();
    }
  </script>

  <!-- Name hidden --> 
  <div id="name" style="display:none"></div>
  <!-- Description hidden --> 
  <div id="description" style="display:none"></div>
 
  <input id="renderer_button" type="image" src="./data/icons/terminal_FILL0_wght300_GRAD0_opsz48.png", style='z-index:2'/>
  <script>
    gb = document.getElementById("renderer_button");
    gb.onmouseenter = function () {
      gb.style.opacity = '1.0';
    };

    gb.onmouseleave = function () {
      gb.style.opacity = '0.5';
    };

    gb.onclick = function () {
      window.location = "https://povlab.online";
    };
  </script>


  <!-- Download -->
  <a id="zip" download >
    <img id="zip_icon" class="nav" src="./data/icons/outline_file_download_white_36dp.png"
                       onmouseenter="style.opacity = '1.0'"
                       onmouseleave="style.opacity = '0.6'"
                       alt="Download"/>
  </a>

  <!-- VRButton -->
  <div id='vr_button'></div>

  <!-- <<  -->
  <img id='prev' class="nav" style="left: 50px" src="./data/icons/outline_arrow_circle_left_white_36dp.png" alt="Prev"
                                                onclick="post > 1 ? showPost(--post): ()=>{}"
                                                onmouseenter="style.opacity = '1.0'" 
                                                onmouseleave="style.opacity = '0.5'"/>
  <!-- >> -->
  <img id='next' class="nav" style="right: 50px" src="./data/icons/outline_arrow_circle_right_white_36dp.png" alt="Next"
                                                 onclick="post < max_post ? showPost(++post): ()=>{}"
                                                 onmouseenter="style.opacity = '1.0'" 
                                                 onmouseleave="style.opacity = '0.6'"/>
  <script type="module" src="./vrview.js"></script>

  <!-- Selector  -->
  <script>
    const max_post = 5;
    var post = 0;
    const Projection = { FLAT:  0,
                          VR180: 1,
                          VR360: 2 };
    var proj = Projection.FLAT;
    var images_dir = 'data/images/';

    let img  = document.getElementById("image");
    let name = document.getElementById("name");
    let desc = document.getElementById("description");
    let zip  = document.getElementById("zip");
    zip.style.visibility = "hidden";
    let vr_button  = document.getElementById("vr_button");
    vr_button.style.visibility = "hidden";
   
    let prev = document.getElementById("prev");
    let next = document.getElementById("next");
    prev.style.visibility = "hidden";
    next.style.visibility = "hidden";
    var images = [];

    // Show post
    
    function showPost(p){
      post = p;
      switch(p) {
        case 1:
          name.innerHTML = 'Surface 1';
          desc.innerHTML = '(1) z = sin (sqrt (x^2 + y^2)) / (sqrt (x^2 + y^2))';
          zip.href       = 'data/scenes/scene_1.zip';
          zip.style.visibility  = "visible";
          vr_button.style.visibility = "visible";
          //prev.style.visibility = "visible";
          //next.style.visibility = "visible";
          img.setAttribute("src", "data/images/surface_1.png")

          images[0] = "surface_1_cam_0.png";
          images[1] = "surface_1_cam_1.png";
          images[2] = "surface_1_cam_2.png";
          break;

        case 2:
          name.innerHTML = 'Surface 2';
          desc.innerHTML = '(2) z = sin (sqrt (x^2 + y^2)) / (sqrt (x^2 + y^2))';
          zip.href       = 'data/scenes/scene_2.zip';
          zip.style.visibility = "visible";
          vr_button.style.visibility = "visible";
          //prev.style.visibility = "visible";
          //next.style.visibility = "visible";
          img.setAttribute("src", "data/images/surface_2.png")

          images[0] = "surface_2_cam_0.png";
          images[1] = "surface_2_cam_1.png";
          images[2] = "surface_2_cam_2.png";
          break;

        case 3:
          name.innerHTML = 'Surface 3';
          desc.innerHTML = '(3) z = sin (sqrt (x^2 + y^2)) / (sqrt (x^2 + y^2))';
          zip.href       = 'data/scenes/scene_3.zip';
          zip.style.visibility = "visible";
          vr_button.style.visibility = "visible";
          //prev.style.visibility = "visible";
          //next.style.visibility = "visible";
          img.setAttribute("src", "data/images/surface_3.png")

          images[0] = "surface_3_cam_0.png";
          images[1] = "surface_3_cam_1.png";
          images[2] = "surface_3_cam_2.png";
          break;

        case 4:
          name.innerHTML = 'Surface 4';
          desc.innerHTML = '(4) z = sin (sqrt (x^2 + y^2)) / (sqrt (x^2 + y^2))';
          zip.href       = 'data/scenes/scene_4.zip';
          zip.style.visibility = "visible";
          vr_button.style.visibility = "visible";
          //prev.style.visibility = "visible";
          //next.style.visibility = "visible";
          img.setAttribute("src", "data/images/surface_4.png")

          images[0] = "surface_4_cam_0.png";
          images[1] = "surface_4_cam_1.png";
          images[2] = "surface_4_cam_2.png";
          break;

        case 5:
          name.innerHTML = 'Surface 5';
          desc.innerHTML = '(5) z = sin (sqrt (x^2 + y^2)) / (sqrt (x^2 + y^2))';
          zip.href       = 'data/scenes/scene_5.zip';
          zip.style.visibility = "visible";
          vr_button.style.visibility = "visible";
          //prev.style.visibility = "visible";
          //next.style.visibility = "visible";
          img.setAttribute("src", "data/images/surface_5.png")

          images[0] = "surface_5_cam_0.png";
          images[1] = "surface_5_cam_1.png";
          images[2] = "surface_5_cam_2.png";
          break;
      }

      if(images.length == 0) {
        console.log("vrview[31]: No images to view !");
      } else {
        window.vrView();
      }
      img.style.display= 'block';
    }
  </script>

  <!-- Menu -->
  <div style='position: absolute; top:75px; left:20px; width:1920px; height:225; z-index:4;'>
    <img src="data/images/surface_1.png" alt='link' class='link' onclick='showPreview(this)'>
    <img src="data/images/surface_2.png" alt='link' class='link' onclick='showPreview(this)'>
    <img src="data/images/surface_3.png" alt='link' class='link' onclick='showPreview(this)'>
    <img src="data/images/surface_4.png" alt='link' class='link' onclick='showPreview(this)'>
    <img src="data/images/surface_5.png" alt='link' class='link' onclick='showPreview(this)'>
    <img src="data/images/surface_1.png" alt='link' class='link' onclick='showPreview(this)'>
    <img src="data/images/surface_2.png" alt='link' class='link' onclick='showPreview(this)'>
    <img src="data/images/surface_3.png" alt='link' class='link' onclick='showPreview(this)'>
    <img src="data/images/surface_1.png" alt='link' class='link' onclick='showPreview(this)'>
    <img src="data/images/surface_2.png" alt='link' class='link' onclick='showPreview(this)'>
    <img src="data/images/surface_3.png" alt='link' class='link' onclick='showPreview(this)'>
  </div>
	</body>
</html>
